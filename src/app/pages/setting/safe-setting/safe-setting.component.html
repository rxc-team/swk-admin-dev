<div nz-row nzJustify="start" class="base-setting">
  <div nz-col nzSpan="24" class="base-setting-left">
    <form
      nz-form
      [formGroup]="passwordForm"
      (ngSubmit)="submitPasswordForm($event, passwordForm.value)"
      autocomplete="off"
    >
      <nz-form-item>
        <nz-form-label nzSpan="3" nzRequired>{{ 'page.userCenter.oldPassword' | translate }}</nz-form-label>
        <nz-form-control nzSpan="16" [nzErrorTip]="errorTpl">
          <input
            nz-input
            type="password"
            formControlName="oldPassword"
            style="width: 300px"
            [placeholder]="'common.placeholder.input' | translate: { label: 'page.userCenter.oldPassword' | translate }"
            autocomplete="off"
            trim="blur"
          />
          <ng-template #errorTpl let-control>
            <ng-container *ngIf="control.hasError('required')">
              {{ 'common.validator.requiredInput' | translate }}
            </ng-container>
            <ng-container *ngIf="control.hasError('password')">
              {{ 'common.validator.password' | translate }}
            </ng-container>
            <ng-container *ngIf="control.hasError('duplicated')">
              {{ 'common.validator.passwordUplicated' | translate }}
            </ng-container>
            <ng-container *ngIf="control.pending">
              {{ 'common.validator.pending' | translate }}
            </ng-container>
          </ng-template>
        </nz-form-control>
      </nz-form-item>
      <p></p>
      <nz-form-item>
        <nz-form-label nzSpan="3" nzRequired>{{ 'page.userCenter.newPassword' | translate }}</nz-form-label>
        <nz-form-control nzSpan="16" [nzErrorTip]="errorTpl">
          <input
            nz-input
            type="password"
            formControlName="newPassword"
            style="width: 300px"
            [placeholder]="'common.placeholder.input' | translate: { label: 'page.userCenter.newPassword' | translate }"
            autocomplete="off"
            (ngModelChange)="validateConfirmPassword()"
            trim="blur"
          />
          <ng-template #errorTpl let-control>
            <ng-container *ngIf="control.hasError('required')">
              {{ 'common.validator.requiredInput' | translate }}
            </ng-container>
            <ng-container *ngIf="control.hasError('password')">
              {{ 'common.validator.password' | translate }}
            </ng-container>
          </ng-template>
        </nz-form-control>
      </nz-form-item>
      <p></p>
      <nz-form-item>
        <nz-form-label nzSpan="3" nzRequired>{{ 'page.userCenter.confirmPassword' | translate }}</nz-form-label>
        <nz-form-control nzSpan="16" [nzErrorTip]="error">
          <input
            nz-input
            formControlName="confirm"
            style="width: 300px"
            type="password"
            [placeholder]="
              'common.placeholder.input' | translate: { label: 'page.userCenter.confirmPassword' | translate }
            "
            trim="blur"
            autocomplete="off"
          />
          <ng-template #error let-control>
            <ng-container *ngIf="control.hasError('required')">
              {{ 'common.validator.requiredInput' | translate }}
            </ng-container>
            <ng-container *ngIf="control.hasError('confirm')">
              {{ 'common.validator.passwordConfirm' | translate }}
            </ng-container>
          </ng-template>
        </nz-form-control>
      </nz-form-item>
      <p></p>
      <nz-form-item>
        <nz-form-control nzOffset="3">
          <button nz-button nzType="primary" [disabled]="!passwordForm.valid">
            <i nz-icon nzType="edit" nzTheme="outline"></i>
            {{ 'common.button.save' | translate }}
          </button>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
</div>
